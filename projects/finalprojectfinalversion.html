<html>
  <head>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">


    <link rel="stylesheet" href="./projects.css"/>
  </head>
  <body>
    <div class="header" style="background-color: #235B8C;">
      <h1 class="logo"><a href="../index.html">Emma Sadjo 438 Portfolio</a></h1> 
      <div class="sub-pages">
        <h2 class="header-2"><a href="../cheatsheets/cheatsheets.html">Cheatsheets</a></h2>
        <h2 class="header-2"><a href="../about/about-me.html">About me</a></h2>
      </div>
    </div>
    
    <div class = "page-container" style="background-color: #DCECFD;">
      <div class="page-container-2" style="background-color: #DCECFD;">
        <!--<div class="rectangle-container" style="background-color: rgb(251, 216, 216);">-->  
          <div class="project">
            <a href="./projects/finalproject.html">
              <img
                class="picture-title"
                src="/images/finalprojectfinalv.png"
                alt="Screenshot of the final project web browser extension, including a text input for location, a display of the selected location and plant type, and a toggle to launch the world."
                /> 
            </a>
            <div class="project-description">
              <h1 style="color:#235B8C">Final Project (Final Version)</h1>
              <div class="p2">Plant Weather World. A browser extension to add a persistent plant world added to your browser, reflecting a location of your choice.</div>
            </div>
          </div>
        <!--</div>-->
      </div>
      </div>

      <div class="project-container">
      
      <div class="content-container">
        <h2 style="color:#235B8C">Overview and Usage</h2>
        <p>The core functionality of this project is that a user can add a customized plant world to their browser that reflects the current weather of a location of their choice. Through the popup of the browser extension, users can enter a location, and their choice is stored and updated to be reflected on the popup screen. Users can also select the plant type of the plant "planted" in the world between 3 types: a sprout, herb, and clover. If the user toggles on the "Launch World" toggle, a world will be displayed in the bottom left corner of their screen, reflecting the choices they previously made. This world consistents of a sky, dirt ground, the plant selected, and imagery of the current weather that is animated. The sky of the world also reflects whether it is night or day in the location specified. The plant in the weather plant world also reflects the current weather conditions: if it is raining, the plant has water droplets collecting on its leaves and sits in a puddle on the ground. If it's snowing, the snow is piled onto the plant. Additionally, users can update the location the plant world reflects by entering a new location. Selections made by users are remembered across tabs and when the page is refreshed.</p>

        <p>To be able to run the code that produces this browser extension, go to my GitHub repository called <a href="https://github.com/esadjo/finalproject-finalversion" target="_blank" class="a-2">finalproject-finalversion</a>, click on the top right green button "Code" and select "Download Zip" from the dropdown menu. Navigate to your downloads folder and open up the zip. The next step is to open chrome://extensions/ in your Google Chrome browser. Click on the "Load unpacked" button in the top left corner and then select the sub-folder "web browser plant world final version" within the folder "finalproject-finalversion-main" you unzipped earlier. Click on the extension icon in the web browser top toolbar and pin the Web Browser Plant extension to your toolbar. Navigate to a web page and start using the browser extension!</p>
        <div class="spacer"></div>
        <a href="https://github.com/esadjo/finalproject-prototype1" target="_blank" class="a-2"></a>
        <div style="display: flex;justify-content:center">
          <img src="/images/Process of Using Plant Web Browser.png" style="width:90%;height:auto;" alt="Diagram visualizing the steps to running the browser extension code described above">
        </div>
 
        <div class="spacer"></div>

        Below are some demos of the web browser extension's functionality.

        <div class="gallery-center">
          <div class="container-gallery">
              
              <div class="column">
                <img src="/images/Entering location for first time and location saved.gif" class="picture-gif" alt="Animation of Seattle location being added, the sprout plant type selected, and the launch world toggle being turned on within the web extension popup">
                <div style="display: flex;justify-content:center; width: 560;"><p><i>User inputs a location for the first time. Location is updated from "No Location" to the inputted location, Seattle.</i></p></div>
              </div>
              
              <div class="column">
                <img src="/images/Location inputted saved and remembered across tabs and refreshing (and also confirming weather is accurate).gif" class="picture-gif" alt="Anmation of london being added as a location to the web extension brower popup and a google search being made for london's weather. Both the google search results and the plant world weather icon show clouds with rain.">
                <div style="display: flex;justify-content:center; width: 560;"><p><i>User changes the location and it's remembered after refreshing the page and navigating across tabs. An internet search confirms the weather displayed is accurate.</i></p></div>
              </div>

              <div class="column">
                <img src="/images/location weather condition - different cities_2.gif" class="picture-gif" alt="Animation of several different locations being added to the popup and the plant world updating accordingly: Buffalo (clouds with snow and night sky), Sydney (clouds with rain and day sky), Bangkok (Sun and day sky), Stockholm (clouds and night sky).">
                <div style="display: flex;justify-content:center; width: 560;"><p><i>User inputs different locations and the plant world updates (the background based on the time of day, the plant and the weather icon based on the weather condition).</i></p></div>
              </div>

              <div class="column">
                <img src="/images/showing night - matching time_1.gif" class="picture-gif" alt="Paris location inputted into the brower extension popup and the plant world display a night sky and the weather condition of rain. Paris time is entered into Google.com and shows that the time is 2:11am">
                <div style="display: flex;justify-content:center; width: 560;"><p><i>User inputs a location where it's currently night. The plant world background and weather icon update accordingly.</i></p></div>
              </div>

              <div class="column">
                <img src="/images/switching plant type.gif" class="picture-gif" alt="Honolulu is added as the location of the plant weather world the mouse moves between selecting one of the three plant types (sprout, herb, clover). The plant world in the bottom right corner updates.">
                <div style="display: flex;justify-content:center; width: 560;"><p><i>User changes the plant type.</i></p></div>
              </div>


              <div class="column">
                <img src="/images/toggling world on and off.gif" class="picture-gif" alt="Launch world goggle is clicked on and off repeatedly from the Plant Weather World extension">
                <div style="display: flex;justify-content:center; width: 560;"><p><i>User toggles the plant world on and off from their screen.</i></p></div>
              </div>

          </div>
        </div>


        <div class="spacer"></div>


        <h2 style="color:#235B8C">Development Process</h2>
        <p>The steps I took for this project were guided by the development process I specified in my <a href="https://esadjo.github.io/projects/finalprojectproposal.html" target="_blank" class="a-2">project proposal</a>. These steps specifically included: </p>
        <ol>
          <li>Creating a new repository by cloning my final project prototype 1 GitHub repository as a starting point.</li>
          <li>Modifying call to weather API to also store the weather condition description and day and night condition to be used elsewhere in code.</li>
          <li>Creating if statement structure for determining which of the 12 plant states to display depending on which plant type is selected and what the current weather condition is.</li>
          <li>Modifying the popup.js and content script files to display the correct background (day or night) and plant based on users' inputted location and selected plant type.</li>
          <li>Debugging problems with the plant and world background only updating when a user clicks the enter button side.</li>
          <li>Debugging problems with the plant and world background not being remembered and displayed when you navigate to another tab or refresh the page.</li>
          <li>Debugging problems with the plant image only displaying when you change the type of plant in popup.</li>
          <li>Visually organizing and fixing the positioning of the plant world elements in the block element to the intended design.</li>
          <li>Adding final responsive elements of the extension. For instance, the initially saved location placeholder displays "No Location" instead of "Undefined" when no location has been saved yet. Otherwise, it displays the most recently entered location.</li>
          <li>Modifying the visual design of the popup, including defining the typography, hierarchy, color scheme, and adding helper text.</li>
          <li>Animating the weather icon so that it travels left and right in a loop to make the world more dynamic.</li>
          <li>Testing the web browser to make sure the core functionality is working.</li>
        </ol>
        <div class="spacer">
         <div style="display: flex;justify-content:center"> 
          <img src="/images/finalprojectfinalversionprogress.png" style="width:90%;height:auto;" alt="Screenshots of the prototype over time, with columns for each version. The leftmost column includes the earliest version. Each version includes comments on the stage of the project, such as 'Starting with prototype 1 state of project' to 'Finalizing visual design of the popup screen, and animating weather icon'.">
            
          </div>
          <div style="display: flex;justify-content:center">
            <p><i>Prototype built over time.</i></p>
          </div>
        </div>

        <div class="spacer"></div>

        <h2 style="color:#235B8C">Issue Deep-Dive</h2>
        <p>One logical error I ran into was that after changing the popup to responsively display the plant image based on the inputted location's weather condition and the plant world background based on the time of day of that location, these elements were not being remembered. The plant image and world image were not showing up when I moved to a different tab OR when I refreshed the page. The images' (the sky background and plant) frames were displayed but empty. Originally, I suspected that the source of this error was from my message sent between the popup and the content script files. However, after following the advice of my professor to use the console further to pinpoint if it was an issue of the order in which elements are retrieved or if it was an issue of accessing chrome storage, I found the error. It turned out I wasn't properly setting up chrome storage for these images to be retrieved and remembered. So only when the popup was opened and the selections were communicated via the popup message to the content scripts were the images able to update. Without the stored information, the block elements were added to the browser, but the variables needed to determine the images to display for plant and sky type could not be retrieved. By fixing the chrome storage on the content script side, the stored variables needed to determine which images to display were properly retrieved and not dependent on the popup message (or the popup screen being open) to communicate the necessary information. In the process, I learned further learned how to use console log statements to determine the order in which code is executed and the values of variables (including the values one is attempting to save) to debug code.</p>
 
        <div class="spacer"></div>

        <h2 style="color:#235B8C">Ideas and Future Work</h2>
        <p>Some ideas I might consider implementing in the future are the stretch goals described in my proposal. These include:</p>
        <ul>
          <li>Updating a system to enforce limits on the number of API calls a user can use in a day. This would involve displaying how many refreshes are available to a user within the popup screen.</li>
          <li>Publishing my browser to the Chrome Web Store's extensions.</li> 
          <li>Allowing users to save a list of locations to more easily select their top locations.</li>
          <li>Allowing users to change the size and location of the plant world.</li>
          <li>Allowing users to specify the size of the plant world, as well as its placement on their web browser screen.</li>
          <li>Allowing users to turn on and off the animation of the weather icon in the plant world.</li>
          <li>Animating the plants to grow over time.</li>
        </ul>
        <div class="spacer"></div>
        
        <h2 style="color:#235B8C">Kudos</h2>
        <p>The resources I used to make this final project included office hours and the following resources:</p>
        <ul>
          <li><a href="https://developer.chrome.com/docs/extensions/mv3/messaging/" target="_blank" class="a-2">Chrome Developers' documentation on "Message passing"</a> to learn more about messages sent between extensions and content scripts.</li> 
          <li><a href="https://developer.chrome.com/docs/extensions/reference/storage/" target="_blank" class="a-2">Chome Developers' API reference for chrome.storage</a> to read up more on chrome storage</li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text" target="_blank" class="a-2">Mozilla Developer reference for input text type</a> to learn how to add helper text to text input fields</li>
          <li><a href="https://stackoverflow.com/questions/31126156/chrome-extensions-saving-multiple-ids-into-chrome-storage" target="_blank" class="a-2">A stackoverflow thread on chrome extensions and saving multiple ids to chrome storage</a></li>
          <li><a href="https://stackoverflow.com/questions/59300485/css-animation-moving-back-and-forth-with-rotation" target="_blank" class="a-2"></a>Stackoverflow thread on CSS animations, horizontal movement and rotation</li>
          <li><a href="https://stackoverflow.com/questions/16156594/how-to-change-border-color-of-textarea-on-focus" target="_blank" class="a-2">Stackoverflow thread on changing text area border colors in a focus state</a></li>
          <li>By default, any resources that were used to make my MP1 <a href="https://esadjo.github.io/projects/browserextension.html" target="_blank" class="a-2">Web Browser Plant Extension</a> and my <a href="https://esadjo.github.io/projects/finalprojectprototype1.html" target="_blank" class="a-2">final project prototype</a> because I built upon my code from MP1. (See my Kudos section from that project for specifics).</li>
        </ul>

      </div>
      </div>

  </body>
</html>

