<html>
  <head>
    <link rel="stylesheet" href="./projects.css"/>
  </head>
  <body>
    <div class="page-container"> 
      <div class="header" style="background-color: #1D5505;">
        <h1 class="logo"><a href="../index.html">Emma Sadjo 438 Portfolio</a></h1> 
        <div class="sub-pages">
          <h2 class="header-2"><u><a href="../cheatsheets/cheatsheets.html">Cheatsheets</a></u></h2>
          <h2 class="header-2"><a href="../about/about-me.html">About me</a></h2>
          
        </div>
      </div>

      <div class="page-container-2" style="background-color: #EBF8D9;">
        <!--<div class="rectangle-container" style="background-color: rgb(251, 216, 216);">-->  
          <div class="project">
            <a href="./projects/finalproject.html">
              <img
                class="picture-title"
                src="/images/browserim.png"
                alt="A question mark shaped red neon sign"
                /> 
            </a>
            <div class="project-description">
              <h1 style="color:#1D5505">Browser Extension</h1>
              <div class="p2">Web Browser Plant. A browser extension to plant a plant in the lower left corner of your browser to keep the environment close to home in your mind.</div>
            </div>
          </div>
        <!--</div>-->
      </div>
      </div>

      <div class="project-container">
      
      <div class="content-container">
        <h2 style="color:#1D5505">Overview and Usage</h2>
        <p>The core functionality of the Web Browser Plant browser extension is that users can select one of three plants (A sprout, herb, or clover plant) to be persistently planted (aka overlayed) at the bottom right corner of their screen. They can use the "Grow Plants" toggle to turn the plants on and off from appearing in their web browser. Users' selections carry over across all web pages within their Chrome Browser via <a href="https://developer.chrome.com/docs/extensions/reference/storage/" target="_blank" class="a-2">Chrome's Storage API</a>.</p>
        
        <div class="spacer"></div>
        <div style="display: flex;justify-content:center">
          <div>
            <img src="/images/1 - showing plant persisting_3.gif" style="width:auto;height:350px; margin-right:50px;">
            <p style="width:560px"><i>Selecting a plant type and the website responding by adding the selected plant to the bottom left corner. Plant persists as scroll down the webpage and change to different tabs.</i></p>
          </div>
          <div>
            <img src="/images/2 - moving between different plants.gif" style="width:auto;height:350px;">
            <p style="width:560px"><i>Changing plant type and the web browser responsively updating to display the selected type in the bottom left corner.</i></p>
          </div>
        </div>
        <div class="spacer"></div>
        <div style="display: flex;justify-content:center">
          <div>
            <img src="/images/3 - showing selections persists when refresh page and open new tabs_2.gif" style="width:auto;height:350px; margin-right:50px">
            <p style="width:560px"><i>Selected plant type is persistently overlayed in the bottom left corner as a user refreshes web page and moves to different tabs.</i></p>
          </div>
          <div>
            <img src="/images/4 - showing deselect persisting across pages_1.gif" style="width:auto;height:350px;">
            <p style="width:560px"><i>Turning off plants via the toggle is remembers when a user refreshes a web page and moves to different tabs.</i></p>
          </div>
          </div>

        <div class="spacer">
          <p>To be able to run the code that produces this browser extension, go to my Github repository called <a href="https://github.com/esadjo/esadjo-bookmarker-extension" target="_blank" class="a-2">esadjo-bookmarker-extension</a>, click on the top right green button "Code" and select "Download Zip" from the dropdown menu. Navigate to your downloads folder and open up the zip. The next step is to open chrome://extensions/ in your Google Chrome browser. Click on the "Load unpacked" button in the top left corner and then select the sub-folder "web browser plant" within the folder "esadjo-bookmarker-extension-main" you unzipped earlier. Click on the extension icon in the web browser top toolbar and pin the Web Browser Plant extension to your toolbar. Navigate to a web page and start using the browser extension!</p>
          <a href="https://github.com/esadjo/esadjo-bookmarker-extension" target="_blank" class="a-2"></a>
          <div style="display: flex;justify-content:center">
            <img src="/images/Process of Using Plant Web Browser.png" style="width:1500px;height:auto;">
          </div>
        </div>
        

        <div class="spacer"></div>


        <h2 style="color:#1D5505">Development Process</h2>
        <p>The steps I took for this project included:</p>
        <ol>
          <li>Cloning the example repositories discussed in class, focusing on the <a href="https://github.com/branchwelder/extension-toolkit/tree/main/blocker" target="_blank" class="a-2">Blocker</a> example.</li>
          <li>Focused on the popup html, css, and javascript files. Adding all of the elements with states not defined by clicking etc yet </li> 
          <li>Within the popup.js file, adding click states and event listeners to the 3 types of plants (not working yet in terms of communicating selection from popup to the content scripts yet (plant not appearing in bottom right corner, but shows which of the 3 types is selected)). Photo not properly loading in container produced in blocker example that build off of</li> 
          <li>Positioning the images in the proper position of the page (images still not loading), working between the popup.js file and content-scripts css and js files.</li> 
          <li>Making overlay plant non-adjustable in size and without a background (in content-scripts files)</li> 
          <li>Using chrome storage to make selections remembered when refresh broswer and go to different tabs (working across the popup.js file to store the values (and access the values) and the content-scripts to access the values</li> 
          <li>Getting toggle state to be remembered when refreshing and across tabs (also via chrome storage -- working across the popup and content-script js files)</li> 
        </ol>

        <h2 style="color:#1D5505">Issue Deep-Dive</h2>
        <p>Went to office hours for additional explanation of communication between popup and content scripts and grabing information through storage</p>
        <p>I ran into several logic error issues with chrome storage, such as smaller ones of storage not working because I ommited the permission storage declaration in my manifest.json file</p>
        <p> But the bigger logic error issue I had was having the toggle state be remembered when a webpage is refreshed or when a user navigates between multiple tabs. Regardless of their selection, the most recent selected plant would show up if the browser was refreshed, which could be a great annoyance to users -- as they would expect their selections to be saved</p>
        <p>Only when the browser tab was opened again would the selection be remembered. </p>
        <p> How i worked around was doing a lot of print statements to the console through console.log() to see what variables were being saved and processed at different points in the code, seeing which functions and if statement were successfully executed. Helped to narrow down the area where the problem was coming from. Helped to identify where the storage call needed to be -- [different problem though - might be out of scope for discussion] i accidentally included it in the message between the pop-up and the content-script files when it should have been accessed outside of that</p>
        <p>After discussing this issue with the professor, I realized that I needed to access the variable I used to save the current toggle (checked vs unchecked) value through my popup.js file need to access in the content-scripts js file and save that to the variable showBlocks that is repeatedly refreneced in my code to determine if the container with the plant image should be rendered and made visible or hidden.</p>
        
        <h2 style="color:#1D5505">Ideas and Future Work</h2>
        <p>Some ideas I might consider in the future include:</p>
        <ul>
          <li>Expanding the number of plants from which users can select</li>  
          <li>Using javascript or css animations to increase the size of the plants to grow. This would be a feature that users could turn on and off</li>
          <li>Allowing users to choose the location of the plant, instead of constraining it to the bottom left corner</li>
          <li>Allowing users to adjust the default size of the plants</li>
          <li>Including bubble callouts of fun facts about plants and the environment and things people can do to help protect our environment. This would involve further developing the narrative of the popup, itself to highlight a focus on environmentalism.</li>
        </ul>
        <h2 style="color:#1D5505">Kudos</h2>
        <p>I pulled and modified code from <a href="https://www.w3schools.com/howto/howto_css_switch.asp" target="_blank" class="a-2">W3Schools</a> to replace the default checkmark for enable/growing plants to be a toggle.</p>
        <p>Heavily built on top of the <a href="https://github.com/branchwelder/extension-toolkit/tree/main/blocker" target="_blank" class="a-2">Blocker Extention</a> sample code, maintaining the core functionality of the code involving sending messages between the popup and content script js files, as well as the code for creating a container block for content overlayed onto any webpage and the functions that determine whether or not the container block should be visible (e.g., the renderBlocks function).</p>
        <p>During office hours and through asking questions on Discord, I received help from the teaching staff for problems involving Chrome Storage.</p>
      </div>
    </div>

  </body>
</html>
