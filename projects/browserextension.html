<html>
  <head>
    <link rel="stylesheet" href="./projects.css"/>
  </head>
  <body>
    <div class="page-container"> 
      <div class="header" style="background-color: #1D5505;">
        <h1 class="logo"><a href="../index.html">Emma Sadjo 438 Portfolio</a></h1> 
        <div class="sub-pages">
          <h2 class="header-2"><u><a href="../cheatsheets/cheatsheets.html">Cheatsheets</a></u></h2>
          <h2 class="header-2"><a href="../about/about-me.html">About me</a></h2>
          
        </div>
      </div>

      <div class="page-container-2" style="background-color: #EBF8D9;">
        <!--<div class="rectangle-container" style="background-color: rgb(251, 216, 216);">-->  
          <div class="project">
            <a href="./projects/finalproject.html">
              <img
                class="picture-title"
                src="/images/browserim.png"
                alt="A question mark shaped red neon sign"
                /> 
            </a>
            <div class="project-description">
              <h1 style="color:#1D5505">Browser Extension</h1>
              <div class="p2">Web Browser Plant. A browser extension to plant a plant in the lower left corner of your browser to keep the environment close to home in your mind.</div>
            </div>
          </div>
        <!--</div>-->
      </div>
      </div>

      <div class="project-container">
      
      <div class="content-container">
        <h2 style="color:#1D5505">Overview and Usage</h2>
        <p>The core functionality of the Web Browser Plant browser extension is that users can select one of three plants (A sprout, herb, or clover plant) to be persistently planted (aka overlayed) at the bottom right corner of their screen. They can use the "Grow Plants" toggle to turn the plants on and off from appearing in their web browser. Users' selections carry over across all web pages within their Chrome Browser via <a href="https://developer.chrome.com/docs/extensions/reference/storage/" target="_blank" class="a-2">Chrome's Storage API</a>.</p>
        
        <div class="spacer"></div>
        <div style="display: flex;justify-content:center">
          <div>
            <img src="/images/1 - showing plant persisting_3.gif" style="width:auto;height:350px; margin-right:50px;">
            <p style="width:560px"><i>Selecting a plant type and the website responding by adding the selected plant to the bottom left corner. The plant persists as scroll down the webpage and change to different tabs.</i></p>
          </div>
          <div>
            <img src="/images/2 - moving between different plants.gif" style="width:auto;height:350px;">
            <p style="width:560px"><i>Changing the plant type and the web browser responsively updating to display the selected type in the bottom left corner.</i></p>
          </div>
        </div>
        <div class="spacer"></div>
        <div style="display: flex;justify-content:center">
          <div>
            <img src="/images/3 - showing selections persists when refresh page and open new tabs_2.gif" style="width:auto;height:350px; margin-right:50px">
            <p style="width:560px"><i>The selected plant type is persistently overlayed in the bottom left corner as a user refreshes the web page and moves to different tabs.</i></p>
          </div>
          <div>
            <img src="/images/4 - showing deselect persisting across pages_1.gif" style="width:auto;height:350px;">
            <p style="width:560px"><i>Turning off plants via the toggle is remembered when a user refreshes a web page and moves to different tabs.</i></p>
          </div>
          </div>

        <div class="spacer">
          <p>To be able to run the code that produces this browser extension, go to my GitHub repository called <a href="https://github.com/esadjo/esadjo-bookmarker-extension" target="_blank" class="a-2">esadjo-bookmarker-extension</a>, click on the top right green button "Code" and select "Download Zip" from the dropdown menu. Navigate to your downloads folder and open up the zip. The next step is to open chrome://extensions/ in your Google Chrome browser. Click on the "Load unpacked" button in the top left corner and then select the sub-folder "web browser plant" within the folder "esadjo-bookmarker-extension-main" you unzipped earlier. Click on the extension icon in the web browser top toolbar and pin the Web Browser Plant extension to your toolbar. Navigate to a web page and start using the browser extension!</p>
          <a href="https://github.com/esadjo/esadjo-bookmarker-extension" target="_blank" class="a-2"></a>
          <div style="display: flex;justify-content:center">
            <img src="/images/Process of Using Plant Web Browser.png" style="width:1500px;height:auto;">
          </div>
        </div>
        

        <div class="spacer"></div>


        <h2 style="color:#1D5505">Development Process</h2>
        <p>The steps I took for this project included:</p>
        <ol>
          <li>Cloning the example repositories discussed in class, focusing on the <a href="https://github.com/branchwelder/extension-toolkit/tree/main/blocker" target="_blank" class="a-2">Blocker</a> example.</li>
          <li>Focusing on the popup HTML, CSS, and JavaScript files, I added all of the visual elements of the pop-up and then added the CSS states, such as the hover states of buttons.</li> 
          <li>Within the popup.js file, I added event listeners to the 3 types of plants buttons. At this point, the selections made in the popup were not yet being communicated to the content-scripts files yet; the plant selected was not appearing in the bottom right corner, but the popup showed which of the 3 plant types was selected.</li> 
          <li>Modifying the content-scripts js and css files to add the plants to be overlayed in the web browser. This involved positioning the images in the proper position of the page, working between the popup.js file and content-scripts css and js files. Note, that the images were not properly loading at this point, which I then resolved.</li> 
          <li>Making the overlay content container with the plant non-adjustable in size and removing the container's background within in content-scripts files.</li> 
          <li>Using Chrome Storage to make selections remembered when the browser is refreshed or when a user navigates between different tabs. This involved working across the popup.js file to store the values and access the values and the content-scripts to access the values.</li> 
          <li>Getting the toggle state to be remembered when refreshing the browser and moving between tabs. This involved using Chrome Storage and working across the popup and content-scripts js files).</li> 
        </ol>
        <div class="spacer">
          <div style="display: flex;justify-content:center">
            <img src="/images/screenshots of progress web extension.png" style="width:1300px;height:auto;">
          </div>
        </div>

        <div class="spacer"></div>

        <h2 style="color:#1D5505">Issue Deep-Dive</h2>
        <p>I ran into several logic error issues with the Chrome Storage API. One example of a smaller issue I ran into was that storage wasn't working because I omitted the permission storage declaration in my manifest.json file. However, later in the process, I ran into a larger issue. The logic error issue was that the selection state of the toggle enabling plants to show up on or disappear from the browser was not remembered when a webpage was refreshed or when a user navigated between multiple tabs. Regardless of their selection, the most recently selected plant would show up if the browser was refreshed, an error that could cause great user dissatisfaction, as they would expect their selections to be saved. Only when the popup was opened again would the selection be remembered. My first course of action was to print several statements to the console through console.log() to see what variables were being saved and processed at different points in the code, which variables and values were being sent between different js files, and which functions and if statements were being successfully executed. This helped to narrow down the area within my code where the problem was coming from. I realized that the toggle state sent through the message from the popup to content-scripts wasn't properly getting retrieved if the page was refreshed. I went to office hours for additional explanation of how communication occurs between popup and content scripts and how to grab information through storage. I then attempted to implement Chrome Storage to save the state of the toggle from the popup to be retrieved in the content-scripts js file, but this caused other issues in my code, so I reversed it back to its earlier state. After discussing how the toggle state wasn't being remembered with the professor, I realized that I needed to access the variable I used to save the current toggle (checked vs unchecked) value through my popup.js file in the content-scripts.js file, and save that to the variable showBlocks that is repeatedly referenced in my code to determine if the container with the plant image should be rendered and made visible or hidden. I believe that part of the issue I was running into in earlier versions of my attempt was that I was accessing the value of the toggle checkmark through Chrome Storage within the content-scripts.js code from the popup message. This is why it only updated once the popup was opened again. When I accessed and saved the checkmark value before the code involving the message between the content-scripts and popup, the issue was resolved. My learning lesson from this is that when an error is occurring, you should evaluate very closely the location of the code and if that might be part of the error source.</p> 
        <div class="spacer"></div>

        <h2 style="color:#1D5505">Ideas and Future Work</h2>
        <p>Some ideas I might consider implementing in the future include:</p>
        <ul>
          <li>Expanding the number of plants from which users can select</li>  
          <li>Using JavaScript or CSS animations to provide the option of increasing the size of the plants to grow them</li>
          <li>Allowing users to choose the location of the plant, instead of constraining it to the bottom left corner of the browser</li>
          <li>Allowing users to adjust the default size of the plants</li>
          <li>Including bubble callouts of fun facts about plants and the environment and small, but impactful actions users can do to help protect our environment. This would involve further developing the narrative of the popup itself to highlight a focus on environmentalism.</li>
        </ul>
        <div class="spacer"></div>
        
        <h2 style="color:#1D5505">Kudos</h2>
        <p>When creating this browser extension, I pulled code from <a href="https://www.w3schools.com/howto/howto_css_switch.asp" target="_blank" class="a-2">W3Schools</a> to replace the default checkmark for enable/growing plants to be an animated toggle. I also used the <a href="https://github.com/branchwelder/extension-toolkit/tree/main/blocker" target="_blank" class="a-2">Blocker Extention</a> sample code from class as my starting code and built off of it. I maintained the core functionality of the code involving sending messages between the popup and content-scripts JS files, the code for creating a container block of content overlayed onto any webpage, and the functions that determine whether or not the container block should be visible (e.g., the renderBlocks function). During office hours and by asking questions on Discord, I received help from the teaching staff for problems involving Chrome Storage.</p>
      </div>
    </div>

  </body>
</html>
